<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Orb Saber Workshop</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <div id="startOverlay" class="startOverlay" aria-label="Start audio">
    <button id="startBtn" class="startBtn" type="button">Start Audio</button>
  </div>

  <div class="wrap">
    <header class="topbar">
      <div class="zoneTitle">DRONE ZONE</div>
      <div class="topActions">
        <button id="playBtn" class="regen ghost" type="button">Pause</button>
        <button id="regenBtn" class="regen" type="button">Randomize</button>
      </div>
    </header>

    <section class="voiceStrip" aria-label="Lightsaber voice stack">
      <div class="voiceGrid" id="voiceGrid"></div>
    </section>

    <section class="panel" aria-label="Voice editor">
      <div class="panelHeader">
        <div class="panelTitle">Voice Controls</div>
        <div class="panelSub" id="activeLabel">Editing: Voice 1</div>
      </div>

      <div class="controls" id="controls">
        <label class="row" data-mode="all">
          <span>Mode</span>
          <select data-param="mode">
            <option value="texture">Texture</option>
            <option value="bass">Bass</option>
          </select>
        </label>

        <label class="row" data-mode="texture">
          <span>Oscillator</span>
          <div class="rowInline">
            <select data-param="oscType">
              <option value="sawtooth">Saw</option>
              <option value="square">Square</option>
              <option value="triangle">Triangle</option>
              <option value="sine">Sine</option>
            </select>
            <label class="inlineToggle">
              <input type="checkbox" data-param="singleOsc" />
              <span>Single</span>
            </label>
          </div>
          <output data-out="singleOsc"></output>
        </label>

        <label class="row" data-mode="texture">
          <span>Osc Rate</span>
          <input type="range" min="0.5" max="2.5" step="0.01" data-param="oscRate" />
          <output data-out="oscRate"></output>
        </label>

        <label class="row" data-mode="texture">
          <span>Base Pitch</span>
          <input type="range" min="60" max="240" step="1" data-param="baseHz" />
          <output data-out="baseHz"></output>
        </label>

        <label class="row" data-mode="texture">
          <span>Unison Spread</span>
          <input type="range" min="0" max="0.02" step="0.0001" data-param="unisonSpread" />
          <output data-out="unisonSpread"></output>
        </label>

        <label class="row" data-mode="texture">
          <span>Detune</span>
          <input type="range" min="0" max="60" step="1" data-param="detune" />
          <output data-out="detune"></output>
        </label>

        <label class="row" data-mode="texture">
          <span>PWM</span>
          <div class="rowInline">
            <label class="inlineToggle">
              <input type="checkbox" data-param="pwmOn" />
              <span>PWM</span>
            </label>
            <input type="range" min="0.05" max="0.95" step="0.01" data-param="pwm" />
          </div>
          <output data-out="pwm"></output>
        </label>

        <label class="row" data-mode="bass">
          <span>Pitch</span>
          <input type="range" min="30" max="160" step="1" data-param="bassHz" />
          <output data-out="bassHz"></output>
        </label>

        <label class="row bassLfoRow" data-mode="bass">
          <span>LFO amount</span>
          <input type="range" min="0" max="1" step="0.01" data-param="bassLfoPitch" />
          <output data-out="bassLfoPitch"></output>
        </label>

        <label class="row bassLfoRow" data-mode="bass">
          <span>LFO speed</span>
          <input type="range" min="0" max="1" step="0.01" data-param="bassLfoPitchRate" />
          <output data-out="bassLfoPitchRate"></output>
        </label>

        <label class="row" data-mode="bass">
          <span>Low Pass Filter</span>
          <input type="range" min="60" max="800" step="1" data-param="bassLP" />
          <output data-out="bassLP"></output>
        </label>

        <label class="row bassLfoRow" data-mode="bass">
          <span>LFO amount</span>
          <input type="range" min="0" max="1" step="0.01" data-param="bassLfoLPF" />
          <output data-out="bassLfoLPF"></output>
        </label>

        <label class="row bassLfoRow" data-mode="bass">
          <span>LFO speed</span>
          <input type="range" min="0" max="1" step="0.01" data-param="bassLfoLPFRate" />
          <output data-out="bassLfoLPFRate"></output>
        </label>

        <label class="row" data-mode="bass">
          <span>Resonance</span>
          <input type="range" min="0.2" max="8" step="0.1" data-param="bassRes" />
          <output data-out="bassRes"></output>
        </label>

        <label class="row bassLfoRow" data-mode="bass">
          <span>LFO amount</span>
          <input type="range" min="0" max="1" step="0.01" data-param="bassLfoRes" />
          <output data-out="bassLfoRes"></output>
        </label>

        <label class="row bassLfoRow" data-mode="bass">
          <span>LFO speed</span>
          <input type="range" min="0" max="1" step="0.01" data-param="bassLfoResRate" />
          <output data-out="bassLfoResRate"></output>
        </label>

        <label class="row" data-mode="bass">
          <span>Drive</span>
          <input type="range" min="0" max="1" step="0.01" data-param="bassDrive" />
          <output data-out="bassDrive"></output>
        </label>

        <label class="row bassLfoRow" data-mode="bass">
          <span>LFO amount</span>
          <input type="range" min="0" max="1" step="0.01" data-param="bassLfoDrive" />
          <output data-out="bassLfoDrive"></output>
        </label>

        <label class="row bassLfoRow" data-mode="bass">
          <span>LFO speed</span>
          <input type="range" min="0" max="1" step="0.01" data-param="bassLfoDriveRate" />
          <output data-out="bassLfoDriveRate"></output>
        </label>

        <label class="row" data-mode="texture">
          <span>Drive</span>
          <input type="range" min="0" max="1" step="0.01" data-param="drive" />
          <output data-out="drive"></output>
        </label>

        <label class="row" data-mode="texture">
          <span>Filter Cutoff</span>
          <input type="range" min="200" max="5000" step="1" data-param="filterCutoff" />
          <output data-out="filterCutoff"></output>
        </label>

        <label class="row" data-mode="texture">
          <span>Filter Resonance</span>
          <input type="range" min="0.2" max="12" step="0.1" data-param="filterQ" />
          <output data-out="filterQ"></output>
        </label>

        <label class="row" data-mode="texture">
          <span>Bandpass Edge</span>
          <input type="range" min="0" max="1" step="0.01" data-param="edge" />
          <output data-out="edge"></output>
        </label>

        <label class="row" data-mode="texture">
          <span>Noise Mix</span>
          <input type="range" min="0" max="0.6" step="0.01" data-param="noiseMix" value="0" />
          <output data-out="noiseMix"></output>
        </label>

        <label class="row" data-mode="all">
          <span>Stereo L/R</span>
          <input type="range" min="0" max="1" step="0.01" data-param="stereoWidth" />
          <output data-out="stereoWidth"></output>
        </label>

        <label class="row" data-mode="all">
          <span>Freq Spatialize</span>
          <input type="range" min="0" max="1" step="0.01" data-param="spatialize" />
          <output data-out="spatialize"></output>
        </label>

        <label class="row" data-mode="all">
          <span>Gain</span>
          <input type="range" min="0" max="0.8" step="0.01" data-param="gain" />
          <output data-out="gain"></output>
        </label>
      </div>
    </section>
  </div>

  <script src="./app.js" defer></script>
</body>
</html>
